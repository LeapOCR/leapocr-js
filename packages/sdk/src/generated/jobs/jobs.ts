/**
 * Generated by orval v7.16.0 üç∫
 * Do not edit manually.
 * LeapOCR API
 * Provide your JWT token via the `Authorization` header. Example: Authorization: Bearer <token>
 * OpenAPI spec version: v1
 */
import type {
  DeleteJobBody,
  GetJobStatusSimpleParams,
  GetJobsListParams,
  JobsJobManagementResponse,
  JobsJobResponse,
  JobsJobStatusResponse,
  JobsJobsListResponse,
  RetryJobBody,
} from ".././models";

import { customInstance } from "../../lib/custom-instance";
import type { BodyType } from "../../lib/custom-instance";

type SecondParameter<T extends (...args: never) => unknown> = Parameters<T>[1];

export const getJobs = () => {
  /**
   * Retrieve a paginated list of OCR jobs with basic filtering options. This endpoint focuses on job management operations.
   * @summary Get jobs list
   */
  const getJobsList = (
    params: GetJobsListParams,
    options?: SecondParameter<typeof customInstance<JobsJobsListResponse>>,
  ) => {
    return customInstance<JobsJobsListResponse>(
      { url: `/jobs/list`, method: "GET", params },
      options,
    );
  };
  /**
   * Retry a failed OCR job. Only jobs with status 'failed' can be retried.
   * @summary Retry failed OCR job
   */
  const retryJob = (
    jobId: string,
    retryJobBody: BodyType<RetryJobBody>,
    options?: SecondParameter<typeof customInstance<JobsJobManagementResponse>>,
  ) => {
    return customInstance<JobsJobManagementResponse>(
      {
        url: `/jobs/${jobId}/retry`,
        method: "POST",
        headers: { "Content-Type": "application/json" },
        data: retryJobBody,
      },
      options,
    );
  };
  /**
   * Get comprehensive job status including database state and Temporal workflow progress information
   * @summary Get job status with workflow details
   */
  const getJobStatusSimple = (
    jobId: string,
    params?: GetJobStatusSimpleParams,
    options?: SecondParameter<typeof customInstance<JobsJobStatusResponse>>,
  ) => {
    return customInstance<JobsJobStatusResponse>(
      { url: `/jobs/${jobId}/status`, method: "GET", params },
      options,
    );
  };
  /**
   * Delets a job
   * @summary Delete OCR job
   */
  const deleteJob = (
    jobId: string,
    deleteJobBody: BodyType<DeleteJobBody>,
    options?: SecondParameter<typeof customInstance<JobsJobResponse>>,
  ) => {
    return customInstance<JobsJobResponse>(
      {
        url: `/ocr/delete/${jobId}`,
        method: "DELETE",
        headers: { "Content-Type": "application/json" },
        data: deleteJobBody,
      },
      options,
    );
  };
  return { getJobsList, retryJob, getJobStatusSimple, deleteJob };
};
export type GetJobsListResult = NonNullable<
  Awaited<ReturnType<ReturnType<typeof getJobs>["getJobsList"]>>
>;
export type RetryJobResult = NonNullable<
  Awaited<ReturnType<ReturnType<typeof getJobs>["retryJob"]>>
>;
export type GetJobStatusSimpleResult = NonNullable<
  Awaited<ReturnType<ReturnType<typeof getJobs>["getJobStatusSimple"]>>
>;
export type DeleteJobResult = NonNullable<
  Awaited<ReturnType<ReturnType<typeof getJobs>["deleteJob"]>>
>;
